#!/bin/sh
FILE=`readlink -f $0`
DIR=`dirname $FILE`

#INSTALL ALL SUBMODULES
git submodule update --init --recursive

#INSTALL CONFIGS
CONF="emacs gvimrc vimrc bash_profile bashrc bash_logout zshrc zprofile"
for i in $CONF; do
	rm -f ~/.$i
	ln -sv ${DIR}/base/$i ~/.$i
done

#SETUP ZSH IF POSSIBLE
ZSH=`which zsh 2>/dev/null`
if [ "$?" = "0" ]; then
	chsh $USER -s $ZSH
	rm -fv ~/.bash_profile
	ln -sv ${DIR}/base/bash_profile_zsh ~/.bash_profile
	echo "zsh -l; exit" >> ~/.profile
fi
